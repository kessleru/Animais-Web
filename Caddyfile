# Caddy will obtain and renew Let's Encrypt certificates automatically.
# It will proxy to the existing Python server (animais-web) running on port 80.

kessleru.dev, www.kessleru.dev {
	encode zstd gzip
	log {
		output stdout
		format console
	}
	# Proxy everything to the app container
	reverse_proxy animais-web:80
}

# Optional: keep HTTP open to redirect to HTTPS if someone hits by IP/old cache
:80 {
	redir https://kessleru.dev{uri}
}
